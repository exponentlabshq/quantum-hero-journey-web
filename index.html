<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Hero's Journey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Minimal Header -->
    <header class="header">
        <div class="header-left">
            <button class="menu-btn" id="menuBtn" aria-label="Menu">
                <span></span><span></span><span></span>
            </button>
            <h1 class="main-title" id="mainTitle">Quantum Hero's Journey</h1>
        </div>
        <div class="header-right">
            <span class="brand" id="brand">Blockface.btc</span>
        </div>
    </header>

    <!-- Main Viewport - No Scrolling -->
    <div class="viewport">
        <!-- Phase Selector - Compact Top Bar -->
        <div class="phase-selector" id="phaseSelector"></div>

        <!-- Main Canvas Area -->
        <div class="canvas-area">
            <div class="phase-info">
                <h2 class="phase-name" id="phaseName"></h2>
                <p class="phase-era" id="phaseEra"></p>
            </div>
            
            <div class="visualization-wrapper">
                <!-- SVG replaces canvas + overlay - single coordinate system -->
                <svg id="sineSvg" class="sine-svg" viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet">
                    <!-- Axes -->
                    <line class="axis axis-horizontal" />
                    <line class="axis axis-vertical" />
                    
                    <!-- Sine Wave Path -->
                    <path id="sinePath" class="sine-path" stroke="currentColor" fill="none" stroke-width="3" />
                    
                    <!-- Stage Dots Group -->
                    <g id="stageDots"></g>
                    
                    <!-- Stage Labels Group -->
                    <g id="stageLabels"></g>
                </svg>
            </div>
        </div>

        <!-- Bottom Controls -->
        <div class="controls-bar">
            <button class="control-btn" id="prevStage" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
                <span>Previous</span>
            </button>
            
            <div class="stage-info">
                <span class="stage-number" id="stageNumber">1</span>
                <span class="stage-divider">/</span>
                <span class="stage-total" id="stageTotal">12</span>
            </div>

            <button class="control-btn" id="nextStage">
                <span>Next</span>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 18l6-6-6-6"/>
                </svg>
            </button>

            <button class="control-btn secondary" id="detailsBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 16v-4M12 8h.01"/>
                </svg>
                <span>Details</span>
            </button>
        </div>

        <!-- Timeline - Compact -->
        <div class="timeline-bar">
            <div class="timeline-track" id="timelineTrack"></div>
        </div>
    </div>

    <!-- Slide-out Menu -->
    <div class="slide-menu" id="slideMenu">
        <div class="menu-header">
            <h2>Navigation</h2>
            <button class="close-btn" id="closeMenu">×</button>
        </div>
        <div class="menu-content">
            <div class="menu-section">
                <h3>Phases</h3>
                <div class="menu-phase-list" id="menuPhaseList"></div>
            </div>
            <div class="menu-section">
                <h3>Stages</h3>
                <div class="menu-stage-list" id="menuStageList"></div>
            </div>
        </div>
    </div>
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Detail Modal - Progressive Disclosure -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="detailModal">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <button class="close-btn" id="closeModal">×</button>
            </div>
            <div class="modal-content" id="modalContent"></div>
        </div>
    </div>

    <!-- ElevenLabs Conversational AI Widget -->
    <elevenlabs-convai agent-id="agent_1301kebgtxzmebetg0v7cv272cet"></elevenlabs-convai>
    
    <script src="app.js"></script>
    <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>
</body>
</html>
